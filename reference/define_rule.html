<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Creates an object of class pixel_rule from a line in rgb space,
defined by the user, and a relational operator."><title>Creates a rule object — define_rule • pixelclasser</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creates a rule object — define_rule"><meta property="og:description" content="Creates an object of class pixel_rule from a line in rgb space,
defined by the user, and a relational operator."><meta property="og:image" content="https://docs.ropensci.org/pixelclasser/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">pixelclasser</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/pixelclasser.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/pixelclasser/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Creates a rule object</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/pixelclasser/blob/HEAD/R/define_rule.R" class="external-link"><code>R/define_rule.R</code></a></small>
      <div class="d-none name"><code>define_rule.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates an object of class <code>pixel_rule</code> from a line in <code>rgb</code> space,
defined by the user, and a relational operator.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">define_rule</span><span class="op">(</span><span class="va">rule_name</span>, <span class="va">x_axis</span>, <span class="va">y_axis</span>, <span class="va">rule_points</span>, <span class="va">comp_op</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>rule_name</dt>
<dd><p>a character string containing the name of the rule.</p></dd>


<dt>x_axis</dt>
<dd><p>a character string selecting the colour variable used as x
axis, one of <code>"r"</code>, <code>"g"</code> or <code>"b"</code>.</p></dd>


<dt>y_axis</dt>
<dd><p>a character string selecting the colour variable used as y
axis, one of <code>"r"</code>, <code>"g"</code> or <code>"b"</code>.</p></dd>


<dt>rule_points</dt>
<dd><p>either an object of  of class <code>"rule_points"</code> created
with function <code><a href="place_rule.html">place_rule()</a></code>, or a list containing the coordinates of
two points defining the line.</p></dd>


<dt>comp_op</dt>
<dd><p>a character string containing one of the comparison operators
<code>"&gt;", "&gt;=", "&lt;", "&lt;="</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of class <code>pixel_rule</code> containing the following elements:</p>
<p></p>
<ul><li><p><code>rule_name</code>: a character string containing the rule name.</p></li>
<li><p><code>rule_text</code>: a character string containing the mathematical
  expression of the rule.</p></li>
<li><p><code>comp_op</code>: a character string containing the comparison operator
  used in the rule.</p></li>
<li><p><code>a</code>: a numerical vector containing the parameter <code>a</code>
  (slope) of the line.</p></li>
<li><p><code>c</code>: a numerical vector containing the parameter <code>c</code>
  (intercept) of the line.</p></li>
<li><p><code>x_axis</code>: a character string containing the colour variable
  selected as <code>x</code> axis.</p></li>
<li><p><code>y_axis</code>: a character string containing the colour variable
  selected as <code>y</code> axis.</p></li>
<li><p><code>first_point</code>: a numerical vector containing the coordinates of
  the first point used to estimate the line equation.</p></li>
<li><p><code>second_point</code>: a numerical vector containing the coordinates of
  the second point.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function estimates the slope (<code>a</code>) and intercept
  (<code>c</code>) of the line <code>y = ax + c</code> using the coordinates of two
  points on the line. <code>x</code> and <code>y</code> are two colour variables selected
  by the user (<code>r</code>, <code>g</code>, or <code>b</code>). The line divides the plane
  in two subsets and the comparison operator selects the subset that contains
  the points (pixels) of interest.</p>
<p>When a list of two points is passed in <code>rule_points</code>, it is internally
  converted into an an object of class <code>rule_points</code>.</p>
<p>The pair of points used to define the line are not constrained to belong to
  the area occupied by the pixels, but they are used by <code><a href="plot_rule.html">plot_rule()</a></code> as
  the start and end of the plotted line. Therefore, the extremes of the line
  can be selected in the most convenient way, provided that the line divides
  correctly the categories. Convenience means that the line should seem nice
  in the plot, if this matters.</p>  
<p>Because the variables were transformed into proportions, the pixel are
  always inside the triangle defined by the points <code>(0, 0), (1, 0), (0,
  1)</code>. So, the sides of this triangle can be considered as implicit rules
  which do not need to be created. In this way, a single line creates two
  polygons by cutting the triangle in two. The implicit rules can reduce the
  number of rules to create in most cases.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="define_subcat.html">define_subcat</a></code>, <code><a href="define_cat.html">define_cat</a></code>,
  <code><a href="plot_rule.html">plot_rule</a></code>, <code><a href="plot_rgb_plane.html">plot_rgb_plane</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Creating the line by passing the coordinates of two points on the line:</span></span></span>
<span class="r-in"><span><span class="va">rule01</span> <span class="op">&lt;-</span> <span class="fu">define_rule</span><span class="op">(</span><span class="st">"rule01"</span>, <span class="st">"g"</span>, <span class="st">"b"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.45</span>, <span class="fl">0.10</span><span class="op">)</span><span class="op">)</span>,<span class="st">"&gt;"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A vertical line as a rule; note that the equation is simplified</span></span></span>
<span class="r-in"><span><span class="va">rule02</span> <span class="op">&lt;-</span> <span class="fu">define_rule</span><span class="op">(</span><span class="st">"rule02"</span>, <span class="st">"g"</span>, <span class="st">"b"</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.00</span><span class="op">)</span><span class="op">)</span>, <span class="st">"&gt;"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Creating the rule by passing an object of type rule_point:</span></span></span>
<span class="r-in"><span><span class="va">rule_points01</span> <span class="op">&lt;-</span> <span class="fu"><a href="place_rule.html">place_rule</a></span><span class="op">(</span><span class="st">"g"</span>, <span class="st">"b"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rule03</span> <span class="op">&lt;-</span> <span class="fu">define_rule</span><span class="op">(</span><span class="st">"rule03"</span>, <span class="st">"g"</span>, <span class="st">"b"</span>, <span class="va">rule_points01</span>,<span class="st">"&gt;"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Note that the creation of the intermediate object can be avoided:</span></span></span>
<span class="r-in"><span><span class="va">rule04</span> <span class="op">&lt;-</span> <span class="fu">define_rule</span><span class="op">(</span><span class="st">"rule04"</span>, <span class="st">"g"</span>, <span class="st">"b"</span>, <span class="fu"><a href="place_rule.html">place_rule</a></span><span class="op">(</span><span class="st">"g"</span>, <span class="st">"b"</span><span class="op">)</span>,<span class="st">"&gt;"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

